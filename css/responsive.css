/* ============================================= */
/* ===== RESPONSIVE UNIFICADO Y CORREGIDO  ===== */
/* ============================================= */

/* --- TABLETS (1024px o menos) --- */
@media (max-width: 1024px) {
  :root {
    --navbar-height: 140px;
  }

  /* Chatbot Fix: Evita colisión lateral */
  .chatbot-wrapper {
    flex-direction: column;
    padding: 20px 15px;
    gap: 20px;
  }

  .chatbot-container {
    width: 100%;
    margin: 0;
  }

  .contact-section, .projects-page {
    max-width: 90vw; /* Cambiado de 50vw para legibilidad */
  }
}

/* --- MÓVILES (768px o menos) --- */
@media (max-width: 768px) {
  :root {
    --navbar-height: 160px;
  }

  /* Fix Chatbot Sidebar: Estilo Menú Slideout */
  .questions-sidebar {
    position: fixed !important;
    top: 0 !important;
    left: -100% !important;
    width: 80% !important;
    max-width: 300px !important;
    height: 100vh !important;
    z-index: 2000 !important; /* Por encima de todo */
    background: var(--card-bg) !important;
    transition: left 0.3s ease-in-out !important;
    border-radius: 0 !important;
    box-shadow: 5px 0 15px rgba(0,0,0,0.5);
    padding-top: 80px !important;
  }

  .questions-sidebar.active {
    left: 0 !important;
  }

  /* Toggle Button para Chatbot */
  .questions-toggle {
    display: flex !important;
    margin-bottom: 15px;
    width: fit-content;
  }

  /* Contact & Projects: Apilado Vertical */
  .contact__methods, .cards__inner {
    flex-direction: column;
    align-items: center;
    gap: 20px;
  }

  .contact__method, .card {
    width: 100% !important;
    max-width: 100% !important;
    margin: 0;
  }
}

/* --- MÓVILES PEQUEÑOS (480px o menos) --- */
@media (max-width: 480px) {
  :root {
    --navbar-height: 170px; /* Navbar apilado en móviles muy pequeños */
  }

  .chat-box {
    height: 350px; /* Altura fija para evitar que se pierda el input */
  }

  .contact-form {
    padding: 20px 15px;
  }

  .contact-form button {
    width: 100%;
  }

  /* Prevenir desbordamiento de certificados */
  .certificates-carousel {
    padding: 0;
    overflow: hidden;
  }
}

/* --- HELPER: Bloqueo de Scroll cuando Sidebar está activo --- */
body.menu-open, body.sidebar-open {
  overflow: hidden !important;
  position: fixed;
  width: 100%;
}